<div class="container faculty-form" style="box-sizing: border-box;">
  <p-toast position="center" key="facultyRegister"></p-toast>
  <div class="col-12" style="padding-top: 10px; text-align:center; margin-bottom: 40px;">

  </div>
  <div class="row" style="justify-content: center;">


    <div class="col-lg-6">
      <div class="col-12">
        <h2 class="chapter-header"><span style="color:#7ac7bf">Career</span> With
          <span style="color:#7ac7bf">MakeUrMark</span></h2>
      </div>
      <div class="col-12" style="font-size: 17px;background-color: aliceblue; padding: 20px; margin:10px">
        <p>Yes we are hiring content Yes we are hiring content Yes we are hiring content Yes we are hiring content
          Yes we are hiring content Yes we are hiring content Yes we are hiring content Yes we are hiring content
          Yes we are hiring content Yes we are hiring content Yes we are hiring content Yes we are hiring content
          Yes we are hiring content Yes we are hiring content Yes we are hiring content Yes we are hiring content
          Yes we are hiring content Yes we are hiring content Yes we are hiring content Yes we are hiring content
          Yes we are hiring content Yes we are hiring content Yes we are hiring content Yes we are hiring content
        </p>
      </div>

      <div class="col-12 pt-2 pb-4" style="font-size: 18px; line-height: 18px;">
        <strong>* Please spend some time and fill up the registration form with the proper details
          so that we can know you better.
        </strong>
      </div>
    </div>


    <div class="col-lg-6 form-container shadow">


      <!---------------------------------Form 1---------------------------------------------->

      <div class="my-3 py-3 mx-3" *ngIf="formShow == 1">
        <div class="row justify-content-between">
          <h4 class="ml-3" style="font-weight: 700; color: #063247">PERSONAL DETAILS</h4>
          <span><i class="fa fa-bookmark"></i><span class="page-number">1/4</span></span>
        </div>

        <form #facultyForm1="ngForm" ngNativeValidate>
          
          <div class="row my-2">
            <mat-form-field class="col-4">
              <mat-label>First Name</mat-label>
              <input matInput required name="firstName" ngModel #firstName="ngModel">
            </mat-form-field>

            <mat-form-field class="col-4">
              <mat-label>Middle Name</mat-label>
              <input matInput name="middleName" ngModel #middleName="ngModel" placeholder="Not mandatory">
            </mat-form-field>

            <mat-form-field class="col-4">
              <mat-label>last Name</mat-label>
              <input matInput name="lastName" ngModel required #lastName="ngModel">
            </mat-form-field>
          </div>

          <div class="row my-2">
            <mat-radio-group class="col-12" aria-label="Select an option" name="gender" ngModel required
              #gender="ngModel">
              <mat-radio-button class="mr-4" value="male">Male</mat-radio-button>
              <mat-radio-button class="mr-4" value="female">Female</mat-radio-button>
              <mat-radio-button class="mr-4" value="others">Others</mat-radio-button>
            </mat-radio-group>
          </div>

          <div class="row my-2">
            <mat-form-field class="col-12">
              <mat-label>Email Id</mat-label>
              <input matInput type="email" name="email" ngModel required #email="ngModel" 
              placeholder="test@test.com" [disabled]="mailVerified=='matched'">
              <mat-hint *ngIf="email.touched && email.valid && mailVerified!='matched'">Email Id needs to be verified! <a (click)="mailOtpGenerate()">verify</a>
              </mat-hint>
              <mat-hint *ngIf="mailVerified=='matched'" class="text-success">Email Id verified!</mat-hint>
            </mat-form-field>
          </div>

          <div class="row my-2">
            <mat-form-field class="col-6">
              <mat-label>Enter your password</mat-label>
              <input matInput [type]="hide1 ? 'password' : 'text'" name="password1"
                pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" ngModel required #password1="ngModel">

              <button mat-icon-button matSuffix (click)="hide1 = !hide1" [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide">
                <mat-icon>{{hide1 ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-hint [align]="end"><i style="font-size: 16px;" class="fa fa-question-circle" #tooltip="matTooltip"
                  matTooltip="Password length must be 8 Character, 
                  must contains atleast one Capital Letter, one small Letter and one Number"
                  matTooltipPosition="right"></i>
              </mat-hint>
            </mat-form-field>


            <mat-form-field class="col-6"
              [class.mat-form-field-invalid]="password1.value !== password2.value && password2.touched">
              <mat-label>Re enter your password</mat-label>
              <input matInput [type]="hide2 ? 'password' : 'text'" name="password2" ngModel required
                #password2="ngModel">
              <button mat-icon-button matSuffix (click)="hide2 = !hide2" [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide">
                <mat-icon>{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-hint class="text-danger" *ngIf="password1.value !== password2.value && password2.touched">
                Password didnot match
              </mat-hint>
            </mat-form-field>
          </div>

          <div class="row my-2 justify-content-between">
            <mat-form-field class="col-6">
              <mat-label>Contact Number</mat-label>
              <input matInput type="tel" placeholder="+91-9062500811" pattern="[+]{1}[0-9]{2}-[0-9]{10}" required
                name="contactNumber" ngModel required #contactNumber="ngModel" placeholder="+91-9876543210"
                [disabled]="numberVerified=='matched'">
              <mat-hint *ngIf="contactNumber.touched && contactNumber.valid">
                Contact number needs to be verified! <a (click)="mobileOTPGenerate()">verify</a>
              </mat-hint>

              <mat-hint class="text-danger" *ngIf="contactNumber.touched && contactNumber.invalid && numberVerified!='matched'">
                Contact Number is not in proper format
              </mat-hint>
              <mat-hint *ngIf="numberVerified=='matched'" class="text-success">Mobile number verified!</mat-hint>
            </mat-form-field>
          </div>

          <div class="row my-2">
            <mat-form-field class="col-6">
              <mat-label>Select Class List </mat-label>
              <mat-select multiple name="facultyGrade" ngModel required #facultyGrade="ngModel">
                <mat-option (click)="toggleAllSelection()" [value]="dummyAllVal" #allSelected>All</mat-option>
                <mat-option (click)="tosslePerOne(allSelected.viewValue)" *ngFor="let grade of allGrades"
                  [value]="grade.value">{{grade.label}}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field class="col-6">
              <mat-label>Select Subjects </mat-label>
              <mat-select multiple name="subjects" ngModel required #subjects="ngModel">
                <mat-option *ngFor="let sub of allSubjects" [value]="sub.value">
                  {{sub.label}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="row mt-4">
            <button class="mx-auto col-4 btn btn-success" (click)="onSubmit(facultyForm1)"
              [disabled]="facultyForm1.invalid || password1.value!==password2.value || numberVerified!='matched'
              || mailVerified!='matched'">
              Submit & Proceed <i class="fa fa-angle-right"></i>
            </button>
          </div>

        </form>
      </div>

      <!-----------------------------------Form 2---------------------------------------------->


      <div class="my-3 py-3 mx-3" *ngIf="formShow == 2">
        <div class="row justify-content-between">
          <h4 class="ml-3" style="font-weight: 700; color: #063247">EDUCATIONAL DETAILS</h4>
          <span><i class="fa fa-bookmark"></i><span class="page-number">2/4</span></span>
        </div>
        <form #facultyForm2="ngForm" ngNativeValidate>

          <div class="border">
            <p-accordion>
              <p-accordionTab *ngFor="let det of educationDetHeader, let i=index" header={{det.label}}>
                <div class="row my-2" ngModelGroup="educationalDet{{i+1}}">

                  <input type="text" name="standard" [(ngModel)]="det.value" style="display: none;">
                  <mat-form-field class="col-12 mt-0 pt-0">
                    <mat-label>Institution Name</mat-label>
                    <input matInput [required]="i !== 3" name="passingInstitute" ngModel #passingInstitute="ngModel"
                    maxlength=25>
                  </mat-form-field>

                  <mat-form-field class="col-6">
                    <mat-label>Year Of Passing</mat-label>
                    <input numberOnly matInput [required]="i !== 3" name="passingYear" ngModel #passingYear="ngModel">
                  </mat-form-field>

                  <mat-form-field class="col-6">
                    <mat-label>Marks (in %)</mat-label>
                    <input numberOnly matInput [required]="i !== 3" name="passingMarks" ngModel #passingMarks="ngModel">
                  </mat-form-field>

                  <mat-form-field class="col-6">
                    <mat-label>Course</mat-label>
                    <input matInput [required]="i !== 3" name="course" ngModel #course="ngModel"
                      placeholder="B.E./M.Tech/M.A/B.Comm" [disabled]= "i==0 || i==1" maxlength=7>
                  </mat-form-field>

                  <mat-form-field class="col-6">
                    <mat-label>Studied Subject</mat-label>
                    <input matInput [required]="i !== 3" name="studiedSub" ngModel [disabled]= "i==0 || i==1"
                    #studiedSub="ngModel" maxlength=15>
                  </mat-form-field>
                </div>
              </p-accordionTab>

              <p-accordionTab header="Professional Certification (If any)">
                <div class="row my-2">
                  <mat-form-field class="col-10 mt-0 pt-0">
                    <input class="mx-3" matInput [(ngModel)]="certificationItem" [ngModelOptions]="{standalone: true}">
                    <mat-hint>Use the Add button for multiple certification</mat-hint>
                  </mat-form-field>
                  <div class="col-2">
                    <button class="btn btn-primary" [disabled]="certificationItem==''" (click)="addCertificate()"
                      style="font-size: 12px;right: 18px;">Add</button>
                  </div>
                </div>

                <table class="table table-sm mx-3" style="font-size: 12px;">
                  <tr class="col-12" *ngFor="let eachCertification of certificationList;let in = index">
                    <td class="col-10" style="overflow-wrap: anywhere;">{{eachCertification}}</td>
                    <td class="col-2"><i class="ml-3 fa fa-close" (click)="removeCertification(in)"></i></td>
                  </tr>
                </table>
              </p-accordionTab>

              <p-accordionTab header="Past teaching experience(Atleast one)">
                <div class="row my-2">
                  <mat-form-field class="col-6">
                    <mat-label>Teaching From</mat-label>
                    <input class="mx-3" matInput [(ngModel)]="teachingExp.from" placeholder="MM/YYYY"
                      pattern="[0-9]{2}/[0-9]{4}" name="teachingFrom" [ngModelOptions]="{standalone: true}"
                      #teachingFrom="ngModel">
                    <mat-hint class="text-danger" *ngIf="teachingFrom.touched && teachingFrom.invalid">
                      Format is not correct
                    </mat-hint>
                  </mat-form-field>

                  <mat-form-field class="col-6">
                    <mat-label>Teaching Till</mat-label>
                    <input class="mx-3" matInput [(ngModel)]="teachingExp.till" placeholder="MM/YYYY"
                      pattern="[0-9]{2}/[0-9]{4}" name="teachingTill" [ngModelOptions]="{standalone: true}"
                      #teachingTill="ngModel">
                    <mat-hint class="text-danger" *ngIf="teachingTill.touched && teachingTill.invalid">
                      Format is not correct
                    </mat-hint>
                  </mat-form-field>

                  <mat-form-field class="col-10">
                    <mat-label>Institution Name/Self</mat-label>
                    <input class="mx-3" matInput [(ngModel)]="teachingExp.institute"
                      [ngModelOptions]="{standalone: true}">
                    <mat-hint>Use the Add button for multiple details</mat-hint>
                  </mat-form-field>

                  <div class="col-2">
                    <button class="btn btn-primary"
                      [disabled]="teachingExp.from=='' || teachingExp.till=='' || teachingExp.institute==''"
                      (click)="addExperience()" style="font-size: 12px;right: 18px;">Add</button>
                  </div>
                </div>

                <table class="table table-sm mx-3" style="font-size: 12px;">
                  <tr *ngFor="let exp of teachingExpList;let in = index">
                    <div class="row">
                      <td class="col-3" style="overflow-wrap: anywhere;">{{exp.from}}</td>
                      <td class="col-3" style="overflow-wrap: anywhere;">{{exp.till}}</td>
                      <td class="col-4" style="overflow-wrap: anywhere;">{{exp.institute}}</td>
                      <td class="col-1"><i class="ml-3 fa fa-close" (click)="removeExperience(in)"></i></td>
                    </div>
                  </tr>
                </table>
              </p-accordionTab>
            </p-accordion>
          </div>


          <div class="row mt-4">
            <button class="mx-auto col-4 btn btn-success" (click)="onSubmit(facultyForm2)"
              [disabled]="facultyForm2.invalid || teachingExpList.length==0">
              Submit & Proceed <i class="fa fa-angle-right"></i>
            </button>
          </div>

        </form>
      </div>


      <!---------------------------------Form 3---------------------------------------------->

      <div class="my-3 py-3 mx-3" *ngIf="formShow == 3">
        <div class="row justify-content-between">
          <h4 class="ml-3" style="font-weight: 700; color: #063247">INFRASTRUCTURE DETAILS</h4>
          <span><i class="fa fa-bookmark"></i><span class="page-number">3/4</span></span>
        </div>

        <form #facultyForm3="ngForm" ngNativeValidate>
          <div class="row my-2">

            <mat-form-field class="col-12">
              <mat-label>Do you have Laptop or Desktop at home</mat-label>
              <mat-select multiple name="homeSystem" ngModel required #homeSystem="ngModel">
                <mat-option value="laptop">Laptop</mat-option>
                <mat-option value="desktop">Desktop</mat-option>
                <mat-option value="none">None</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="row my-2">
            <mat-radio-group class="col-12 pl-0" aria-label="Do you have a smart phone" name="smartPhone" ngModel
              required #smartPhone="ngModel">
              <mat-radio-button class="col-6" value="yes">I have a Smart Phone</mat-radio-button>
              <mat-radio-button class="col-6" value="no">I do not have a Smart Phone</mat-radio-button>
            </mat-radio-group>
          </div>

          <div class="row my-2">
            <mat-form-field class="col-12">
              <mat-label>If you have smart phone, please provide the make and model</mat-label>
              <input matInput type="text" name="makeAndModel" ngModel required #makeAndModel="ngModel"
                [disabled]="smartPhone.value == 'no' || smartPhone.value == ''">
            </mat-form-field>
          </div>

          <div class="row my-2">
            <mat-radio-group class="col-12 pl-0" aria-label="Do you have a white board and marker"
              name="whiteBoardMarker" ngModel required #whiteBoardMarker="ngModel">
              <mat-radio-button class="col-12" value="yes">I have a white board and marker</mat-radio-button>
              <mat-radio-button class="col-12" value="no">I do not have a white board and marker</mat-radio-button>
            </mat-radio-group>
          </div>

          <div class="row my-2">
            <mat-form-field class="col-6">
              <mat-label>Broadband details at home</mat-label>
              <mat-select multiple name="broadBand" ngModel required #broadBand="ngModel">
                <mat-option value="cable">Cable</mat-option>
                <mat-option value="dongle">Dongle</mat-option>
                <mat-option value="fibre">Fibre Optics</mat-option>
                <mat-option value="hotspot">Phone Hotspot</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field class="col-6">
              <mat-label>Mention Bandwidth (in Mbps)</mat-label>
              <input matInput type="text" name="bandWidth" ngModel numberOnly #bandWidth="ngModel" placeholder="100">
            </mat-form-field>

          </div>

          <div class="row mt-4">
            <button class="mx-auto col-4 btn btn-success" (click)="onSubmit(facultyForm3)"
              [disabled]="facultyForm3.invalid">
              Submit & Proceed <i class="fa fa-angle-right"></i>
            </button>
          </div>

        </form>
      </div>


      <!---------------------------------Form 4---------------------------------------------->


      <div class="my-3 py-3 mx-3" *ngIf="formShow == 4 || formShow == 5">

        <div class="row justify-content-between">
          <h4 class="ml-3" style="font-weight: 700; color: #063247">REFERENCES & MEDIUM</h4>
          <span><i class="fa fa-bookmark"></i><span class="page-number">4/4</span></span>
        </div>

        <form #facultyForm4="ngForm" style="overflow:visible">

          <p-accordion>
           <p-accordionTab header="Medium of Instruction">
              <p-multiSelect defaultLabel="Select your language" [options]="allLanguage" [(ngModel)]="language"
                [ngModelOptions]="{standalone: true}">
              </p-multiSelect>
            </p-accordionTab>

            <p-accordionTab header="Reference Check">
              <div *ngFor="let det of ['0','0'], let i=index">
                <div class="row my-2" ngModelGroup="ref{{i}}">
                  <mat-form-field class="col-7">
                    <mat-label>Person {{i+1}} name</mat-label>
                    <input matInput required name="refName" ngModel #refName="ngModel">
                  </mat-form-field>

                  <mat-form-field class="col-5">
                    <mat-label>Person {{i+1}} contact number</mat-label>
                    <input matInput type="tel" placeholder="+91-9062500811" pattern="[+]{1}[0-9]{2}-[0-9]{10}" required
                      name="refNumber" ngModel required #refNumber="ngModel" placeholder="+91-9876543210">
                    <mat-hint class="text-danger" *ngIf="refNumber.touched && refNumber.invalid">
                      Contact Number is not in proper format
                    </mat-hint>
                  </mat-form-field>
                </div>
              </div>
            </p-accordionTab>

            <p-accordionTab header="Upload CV">
              <div class="col-12 mt-4 pl-0" style="display: grid;">
                <p class="col-12 my-1 selected-file pl-0">
                  Selected File: {{selectedCVFile? selectedCVFile.name: 'none'}}
                </p>
                <input style="display:none" type="file" #file name="filename" (change)="onFileSelected($event)">
                <button class="col-4 btn btn-success shadow border" (click)="file.click()">
                  <i style="font-weight:700;" class="fa fa-upload "> Upload CV</i>
                </button>
              </div>
            </p-accordionTab>
          </p-accordion>

          <div class="row mt-4">
            <button class="mx-auto col-4 btn btn-success" (click)="onSubmit(facultyForm4)"
              [disabled]="facultyForm4.invalid || selectedCVFile ==null || language.length ==0">
              Submit & Proceed <i class="fa fa-angle-right"></i>
            </button>
          </div>

        </form>
      </div>

    </div>
  </div>
</div>

<p-dialog [(visible)]="verifyMailOpen" [style]="{width:'40vw'}" [baseZIndex]="10000" [modal]="true">
  <div class="row">
    <div class="form-group col-10 mx-auto mb-0" style="margin-top: 30px;">
      <div class="col-12" style="text-align: center; font-size: 20px">
          <p *ngIf="mailVerified == 'matched'"><i class="fa fa-check-square-o" style="color: green"></i> Email id has been verified</p>
          <p *ngIf="mailVerified == 'not matched'"><i class="fa fa-close" style="color: red"></i> otp not matched</p>
          <p *ngIf="mailVerified == 'no mail'"><i class="fa fa-close" style="color: red"></i> Email id not found</p>
          <p *ngIf="mailVerified == 'user exist'"><i class="fa fa-close" style="color: red"></i> Email id already registered</p>
          <p *ngIf="mailVerified == 'expired'"><i class="fa fa-close" style="color: red"></i> OTP Expired, Please retry</p>
      </div>
      
      <div *ngIf="numberVerified !='matched'">
          <label for="otp-mail">Please enter the <strong>OTP</strong> sent to your email id for verification</label>
          <div class="input-group">
              <input id="otp-mail" type="text" class="" name="otp-mail" placeholder="000000"
                  required #otpInput>
          </div>
          <button type="button" (click)="verifyMail()" class="col-12 btn btn-default btn-primary mt-3">verify</button>
          <div class="row">
          <a class="col-6" (click)="mailOtpGenerate()" style="margin-top: 21px; font-size:14px">Resend OTP</a>
          <p class="col-6" style="margin-top: 21px; font-size:14px">Remaining time: <strong>{{myMailTimer}} Min</strong></p>
          </div>
      </div>
  </div>
  </div>
</p-dialog>


<p-dialog [(visible)]="verifyPhoneNumberOpen" [style]="{width:'40vw'}" [baseZIndex]="10000" [modal]="true">
  <div class="row">
    <div class="form-group col-10 mx-auto mb-0" style="margin-top: 30px;">
      <div class="col-12" style="text-align: center; font-size: 20px">
          <p *ngIf="numberVerified == 'matched'"><i class="fa fa-check-square-o" style="color: green"></i> Mobile Number has been verified</p>
          <p *ngIf="numberVerified == 'not matched'"><i class="fa fa-close" style="color: red"></i> otp not matched</p>
          <p *ngIf="numberVerified == 'no number'"><i class="fa fa-close" style="color: red"></i> Mobile Number not found</p>
          <p *ngIf="numberVerified == 'expired'"><i class="fa fa-close" style="color: red"></i> OTP Expired, Please retry</p>
      </div>
      
      <div *ngIf="numberVerified !='matched'">
          <label for="otp-mob">Please enter the <strong>OTP</strong> sent to your number for verification</label>
          <div class="input-group">
              <input id="otp-mob" type="text" class="" name="otp-mob" placeholder="000000"
                  required #otpInput>
          </div>
          <button type="button" (click)="verifyNumber()" class="col-12 btn btn-default btn-primary mt-3">verify</button>
          <div class="row">
          <a class="col-6" (click)="mobileOTPGenerate()" style="margin-top: 21px; font-size:14px">Resend OTP</a>
          <p class="col-6" style="margin-top: 21px; font-size:14px">Remaining time: <strong>{{myMobTimer}} Min</strong></p>
          </div>
      </div>
  </div>
  </div>
</p-dialog>